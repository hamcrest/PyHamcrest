- case: has_property
  # pypy + mypy doesn't work. See https://foss.heptapod.net/pypy/pypy/-/issues/3526
  skip: platform.python_implementation() == "PyPy"
  main: |
    from hamcrest import is_, has_property

    a: int = 99
    b = a

    reveal_type(has_property("a"))                          # N: Revealed type is "hamcrest.core.matcher.Matcher[builtins.object]"
    reveal_type(has_property("a", None))                    # N: Revealed type is "hamcrest.core.matcher.Matcher[builtins.object]"
    reveal_type(has_property("a", is_(a)))                  # N: Revealed type is "hamcrest.core.matcher.Matcher[builtins.object]"
    reveal_type(has_property("a", a))                       # N: Revealed type is "hamcrest.core.matcher.Matcher[builtins.object]"

- case: has_properties_keyword
  # pypy + mypy doesn't work. See https://foss.heptapod.net/pypy/pypy/-/issues/3526
  skip: platform.python_implementation() == "PyPy"
  main: |
    from hamcrest import is_, has_properties

    a: int = 99
    b = a

    reveal_type(has_properties(a=a, b=b))                   # N: Revealed type is "hamcrest.core.matcher.Matcher[builtins.object]"
    reveal_type(has_properties(a=is_(a), b=is_(b)))         # N: Revealed type is "hamcrest.core.matcher.Matcher[builtins.object]"
    reveal_type(has_properties(a=a, b=is_(b)))              # N: Revealed type is "hamcrest.core.matcher.Matcher[builtins.object]"

- case: has_properties_map
  # pypy + mypy doesn't work. See https://foss.heptapod.net/pypy/pypy/-/issues/3526
  skip: platform.python_implementation() == "PyPy"
  main: |
    from hamcrest import is_, has_properties

    a: int = 99
    b = a

    reveal_type(has_properties({"a":a, "b": b}))            # N: Revealed type is "hamcrest.core.matcher.Matcher[builtins.object]"
    reveal_type(has_properties({"a":is_(a), "b": is_(b)}))  # N: Revealed type is "hamcrest.core.matcher.Matcher[builtins.object]"
    reveal_type(has_properties({"a":a, "b": is_(b)}))       # N: Revealed type is "hamcrest.core.matcher.Matcher[builtins.object]"

- case: has_properties_alternating
  # pypy + mypy doesn't work. See https://foss.heptapod.net/pypy/pypy/-/issues/3526
  skip: platform.python_implementation() == "PyPy"
  main: |
    from hamcrest import is_, has_properties

    a: int = 99
    b = a

    reveal_type(has_properties("a", a, "b", b))             # N: Revealed type is "hamcrest.core.matcher.Matcher[builtins.object]"
    reveal_type(has_properties("a", is_(a), "b", is_(b)))   # N: Revealed type is "hamcrest.core.matcher.Matcher[builtins.object]"
    reveal_type(has_properties("a", a, "b", is_(b)))        # N: Revealed type is "hamcrest.core.matcher.Matcher[builtins.object]"
    reveal_type(has_properties("a", is_(a), "b", b))        # N: Revealed type is "hamcrest.core.matcher.Matcher[builtins.object]"

- case: has_properties_none
  main: |
    from hamcrest import is_, has_properties

    reveal_type(has_properties(a=None, b=is_(None)))       # N: Revealed type is "hamcrest.core.matcher.Matcher[builtins.object]"
    reveal_type(has_properties({"a": None, "b": is_(None)}))   # N: Revealed type is "hamcrest.core.matcher.Matcher[builtins.object]"
    reveal_type(has_properties("a", None, "b", is_(None)))     # N: Revealed type is "hamcrest.core.matcher.Matcher[builtins.object]"
    reveal_type(has_properties("a", is_(None), "b", None))     # N: Revealed type is "hamcrest.core.matcher.Matcher[builtins.object]"
